# Vim Tutorial Game (Neovim版)

Neovimエンジンを使用したVim操作学習ツールです。実際のVimの動作を体験しながら、段階的にVimコマンドをマスターできます。

## 🎯 特徴

- **実際のNeovimエンジン**を使用した100%正確なVim動作
- **8章構成**の体系的な学習カリキュラム
- **段階的学習**：各章に複数の練習問題とステップ
- **リアルタイム検証**：入力したキーの動作を即座にNeovimで確認
- **詳細な解説**：各コマンドの語源と意味を詳しく説明
- **エラーハンドリング**：間違いを恐れずに学習できる環境

## 📚 学習内容

### 初級レベル (第1章〜第4章)
- **第1章: 基本移動 (hjkl)** - カーソルの基本的な移動操作
- **第2章: モード切替 (i, Esc, :)** - Normal/Insert/Visualモード間の切り替え
- **第3章: 単語操作 (w, b, e)** - 単語単位での移動
- **第4章: 行操作 (0, $, ^)** - 行内での効率的な移動

### 中級レベル (第5章〜第8章)
- **第5章: 範囲選択 (v, V)** - テキストの範囲選択
- **第6章: 削除・変更 (d, c, x)** - テキストの削除と変更
- **第7章: コピー・ペースト (y, p)** - テキストのコピーとペースト
- **第8章: 検索・置換 (/, n, N)** - テキストの検索と置換

## 🚀 インストールと実行

### 前提条件

1. **Rust** (1.70以上)
2. **Neovim** (0.8以上)
3. **tmux** (3.0以上) - インタラクティブモード用（オプション）

#### Ubuntu/Debian
```bash
# Rust のインストール
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# Neovim と tmux のインストール
sudo apt update
sudo apt install neovim tmux
```

#### macOS
```bash
# Homebrew でインストール
brew install rust
brew install neovim tmux
```

#### Windows (WSL推奨)
```bash
# WSL内でUbuntu/Debian と同じ手順
```

### プロジェクトのセットアップ

```bash
# プロジェクトディレクトリに移動
cd vim-tutorial-nvim

# 依存関係の確認とビルド
cargo build --release
```

### 実行方法

#### 1. 基本実行（推奨）
```bash
cargo run --release
```

#### 2. 特定の章から開始
```bash
# 第3章から開始
cargo run --release -- -c 3
```

#### 3. テストモード（Neovim連携確認）
```bash
cargo run --release -- --test
```

## 🎮 操作方法

### メニュー画面
```
📚 === 章選択メニュー ===

=== 利用可能な章 ===
第1章: 基本移動 (hjkl)
  Vimの基本的なカーソル移動を学習します
  練習問題数: 2
...

章番号を選択してください (1-8, q=終了):
選択: 
```

- **1-8**: 対応する章を選択
- **q**: プログラムを終了

### 学習画面
```
📝 === 練習 1/2: hjkl移動の練習 ===
hjklキーでカーソルを移動させます

サンプルコード:
 1: let x = 10;
 2: let y = 20;

📍 ステップ 1/4: カーソルを右に移動してください
💡 解説: l キー: left の逆で right（右）への移動
🎯 期待されるキー入力: l

入力してください: 
```

- **キー入力**: 期待されるVimコマンドを入力
- **'i' または 'interactive'**: 実際のNeovimで分割画面練習モード
- **Enter**: 入力を確定してNeovim検証を実行
- **最大3回まで**: 間違えても再チャレンジ可能

## 🔧 トラブルシューティング

### Neovimが見つからない
```
✗ Neovim が見つかりません
  インストール方法: sudo apt install neovim または brew install neovim
```
→ 上記のインストール手順でNeovimをインストールしてください。

### 標準入力が利用できない環境
```
標準入力が利用できません。デモモードで正解を自動入力します。
🤖 デモモード: 正解 'l' を自動入力
```
→ デモモードが自動的に有効になり、正解を表示しながら学習を進められます。

### ビルドエラー
```bash
# キャッシュをクリアして再ビルド
cargo clean
cargo build --release
```

### tmuxが見つからない（インタラクティブモード使用時）
```
tmuxが利用できないため、通常モードで実行
```
→ tmuxをインストールすることで分割画面機能を利用できます。
```bash
# Ubuntu/Debian
sudo apt install tmux

# macOS
brew install tmux
```

### デバッグログの確認
インタラクティブモードで問題が発生した場合は、デバッグログを確認してください：
```bash
# ログファイルの場所
/tmp/vim_tutorial_debug.log

# ログをリアルタイムで監視
tail -f /tmp/vim_tutorial_debug.log

# ログの内容を確認
cat /tmp/vim_tutorial_debug.log
```

### パフォーマンスの問題
```bash
# リリースビルドを使用（推奨）
cargo run --release

# または事前にビルドしてから実行
cargo build --release
./target/release/vim-tutorial-nvim
```

## 📖 学習の進め方

### 初心者の方
1. **第1章から順番に**学習することをお勧めします
2. **解説をよく読んで**コマンドの意味を理解しましょう
3. **間違いを恐れず**に何度でもチャレンジしてください

### 経験者の方
1. **特定の章**を選択して苦手分野を重点的に学習
2. **組み合わせコマンド**（dd, yy, cwなど）の練習に集中

## 🛠 技術仕様

- **言語**: Rust 2024 Edition
- **Vimエンジン**: Neovim (--headless モードで実行)
- **UI**: ターミナルベースのテキストUI
- **データ**: YAML形式での学習コンテンツ管理
- **対応環境**: Linux, macOS, Windows (WSL)

## 📁 プロジェクト構成

```
vim-tutorial-nvim/
├── src/
│   ├── main.rs          # エントリーポイント
│   ├── game.rs          # ゲームロジック
│   └── content.rs       # 学習コンテンツ管理
├── data/
│   └── chapters/        # YAML形式の章データ
│       ├── chapter_01.yaml
│       ├── chapter_02.yaml
│       └── ...
├── Cargo.toml          # 依存関係設定
└── README.md           # このファイル
```

## 🎓 学習効果を最大化するコツ

1. **毎日少しずつ**: 1章ずつ確実にマスター
2. **実践で確認**: 学習後は実際のVimエディタで練習
3. **反復練習**: 苦手なコマンドは何度も練習
4. **組み合わせを意識**: 基本コマンドの組み合わせを覚える

## 🤝 貢献

バグ報告、機能要望、改善提案は Issues までお願いします。

## 📜 ライセンス

MIT License

---

**楽しいVim学習を！** 🚀

実際のNeovimエンジンを使用しているため、このツールで学習した内容は実際のVim使用時にそのまま活用できます。